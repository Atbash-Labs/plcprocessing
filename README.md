# PLCopen XML Processing Tools

A collection of Python tools for processing, diffing, and applying changes to CODESYS PLCopen XML files.

## Tools

### `plcopenxmlprocessor.py`
Extracts Structured Text (ST) code and Global Variable Lists (GVL) from PLCopen XML files into `.sc` files for easier text-based editing and version control.

**Usage:**
```bash
python plcopenxmlprocessor.py <input.xml> <output_directory>
```

### `plcopenxmldiff.py`
Compares two PLCopen XML files and generates unified diffs of their POUs, methods, and GVLs.

**Usage:**
```bash
python plcopenxmldiff.py <xml1.xml> <xml2.xml> <output_directory>
```

### `plcopenxmlapply.py`
Applies diffs generated by `plcopenxmldiff.py` to a target XML file. The tool extracts code to intermediate `.sc` files, applies the diffs, then merges the changes back into XML format.

**Usage:**
```bash
python plcopenxmlapply.py <diff_directory> <target.xml> <output.xml>
```

**Note:** The final output is an XML file. The `.sc` files are intermediate files used for text-based diffing and are automatically cleaned up.

## Features

- Optimized for CODESYS PLCopen XML format (with fallback support for standard PLCopen)
- Handles POUs (Program Organization Units), methods, and Global Variable Lists
- Generates standard unified diffs for version control
- Applies diffs to update XML files programmatically
- Preserves CODESYS-specific XML extensions (addData sections)

## Requirements

- Python 3.7+
- `plcopen` library (via `xsdata`)
- `xml.etree.ElementTree` (built-in)

## Installation

```bash
pip install plcopen
```

## License

MIT

